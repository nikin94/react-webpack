(()=>{var e={647:(e,r,t)=>{"use strict";t.r(r);var n=t(353),i=t.n(n);function s(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw s}}}}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}(e=t.hmd(e)).exports=function(e){var r="".concat(e.protocol,"://").concat(e.get("host")),t=new URL(e.originalUrl||e.url,r),n=new AbortController;e.on("close",(function(){return n.abort()}));for(var o=new Headers,a=0,c=Object.entries(e.headers);a<c.length;a++){var u=i()(c[a],2),l=u[0],d=u[1];if(d)if(Array.isArray(d)){var m,x=s(d);try{for(x.s();!(m=x.n()).done;){var p=m.value;o.append(l,p)}}catch(e){x.e(e)}finally{x.f()}}else o.set(l,d)}var h={method:e.method,headers:o,signal:n.signal};return"GET"!==e.method&&"HEAD"!==e.method&&(h.body=e.body),new Request(t.href,h)}},423:(e,r,t)=>{"use strict";t.r(r);var n=t(591),i=t.n(n),s=t(307),o=t.n(s),a=t(997),c=t(860),u=t(684),l=t(149),d=l.createStaticHandler,m=l.createStaticRouter,x=l.StaticRouterProvider,p=t(647),h=t(379).Z,f=c(),v=d(h);f.get("*",function(){var e=i()(o().mark((function e(r,t){var n,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(r),e.next=3,v.query(n);case 3:i=e.sent,s=m(v.dataRoutes,i),c=u.renderToString((0,a.jsx)(x,{router:s,context:i})),t.send("<!DOCTYPE html>"+c);case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),f.listen(3010,(function(){console.log("App is launched")}))},379:(e,r,t)=>{"use strict";t.d(r,{Z:()=>$e});const n=require("react-router-dom"),i=require("@mui/material/Grid");var s=t.n(i);const o=require("@mui/material/Box");var a=t.n(o);const c=require("@mui/material/Card");var u=t.n(c);const l=require("@mui/material/Grow");var d=t.n(l);const m=require("@mui/material/useMediaQuery");var x=t.n(m);const p=require("@mui/material/styles");var h=t(997);const f=function(e){var r=e.album,t=(0,p.useTheme)(),n=x()(t.breakpoints.up("sm")),i=r.id,s=r.userId,o=r.title;return(0,h.jsx)(U,{to:"/user/".concat(s,"/albums/").concat(i),children:(0,h.jsx)(d(),{in:!0,children:(0,h.jsx)(a(),{children:(0,h.jsx)(u(),{sx:{color:"#333",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontWeight:"bold",opacity:.6,transition:".3s",p:n?5:1,minHeight:n?250:150,fontSize:n?"inherit":12,"&:hover":{opacity:1}},children:o})})})})},v=function(){var e=(0,n.useLoaderData)(),r=(0,n.useParams)().userId;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S,{url:"/user/"+r}),(0,h.jsx)(s(),{container:!0,sx:{height:"100%"},spacing:2,p:2,children:e.map((function(e){return(0,h.jsx)(s(),{item:!0,xs:4,children:(0,h.jsx)(f,{album:e})},e.id)}))})]})},j=require("@mui/material/Fab");var b=t.n(j);const g=require("@mui/icons-material/ArrowBack");var y=t.n(g);const S=function(e){var r=e.url,t=(0,p.useTheme)(),n=x()(t.breakpoints.up("xl"));return(0,h.jsx)(U,{to:r,children:(0,h.jsx)(b(),{color:"primary",size:n?"large":"small",sx:{position:"absolute",left:n?-50:20,top:20},children:(0,h.jsx)(y(),{fontSize:"small"})})})},w=require("@mui/material/AppBar");var q=t.n(w);const O=require("@mui/material/Container");var k=t.n(O);const I=require("@mui/material/Typography");var P=t.n(I);const A=function(){return(0,h.jsx)(q(),{sx:{position:"relative",zIndex:1,py:2,height:64},children:(0,h.jsx)(k(),{maxWidth:"lg",sx:{display:"flex"},children:(0,h.jsx)(a(),{flexShrink:1,children:(0,h.jsx)(U,{to:"/",children:(0,h.jsxs)(a(),{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,h.jsx)(P(),{sx:{fontSize:32,lineHeight:1},children:"{ "}),(0,h.jsx)(P(),{sx:{fontWeight:"bold",fontSize:16,lineHeight:1},children:"JSON "}),(0,h.jsx)(P(),{sx:{fontWeight:"bold",fontSize:16,lineHeight:1,position:"relative",top:5},children:"app"}),(0,h.jsx)(P(),{sx:{fontWeight:"bold",fontSize:32,lineHeight:1},children:" }"})]})})})})})},C=require("@babel/runtime/helpers/defineProperty");var T=t.n(C);const R=require("@babel/runtime/helpers/objectWithoutProperties");var E=t.n(R),D=["children","to"];function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){T()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const U=function(e){var r=e.children,t=e.to,i=E()(e,D),s=(0,n.useLocation)().search;return(0,h.jsx)(n.Link,M(M({to:t+s},i),{},{children:r}))},W=function(){var e=(0,n.useLoaderData)(),r=(0,n.useParams)().userId;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S,{url:"/user/"+r}),(0,h.jsx)(a(),{sx:{p:1,bgcolor:"#fff"},children:e.map((function(e){var r=e.body,t=e.title,n=e.id;return(0,h.jsxs)(u(),{sx:{p:2,mb:2,boxShadow:3},children:[(0,h.jsx)(P(),{variant:"h5",component:"h5",fontWeight:"bold",sx:{mb:1},children:t}),(0,h.jsx)(P(),{color:"text.secondary",children:r})]},n)}))})]})},z=require("@mui/material/Divider");var F=t.n(z);const H=require("@mui/material/List");var B=t.n(H);const N=require("@mui/material/Avatar");var _=t.n(N);const G=require("@mui/material/ListItem");var Z=t.n(G);const J=require("@mui/material/ListItemAvatar");var Q=t.n(J);const Y=require("@mui/material/ListItemText");var $=t.n(Y);const K=function(e){var r=e.user,t=(0,n.useParams)().userId,i=r.name,s=r.username,o=r.id,a="https://i.pravatar.cc/40?u="+s;return(0,h.jsx)(U,{to:"/user/"+o,children:(0,h.jsxs)(Z(),{sx:{alignItems:"center",bgcolor:o===Number(t)?"primary.dark":"inherit",color:o===Number(t)?"primary.contrastText":"inherit",transition:".3s","&:hover":{bgcolor:"primary.light",color:"primary.contrastText"}},children:[(0,h.jsx)(Q(),{children:(0,h.jsx)(_(),{alt:i,src:a})}),(0,h.jsx)($(),{primary:s,secondary:i,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{sx:{color:"inherit"}}})]})})},V=require("react"),X=require("@mui/material/Skeleton");var ee=t.n(X);const re=function(){var e=function(e){var r=e.skipDivider;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a(),{sx:{width:"100%",p:2,display:"flex"},children:[(0,h.jsx)(ee(),{variant:"circular",width:40,height:40,sx:{flex:"none",mr:1}}),(0,h.jsxs)(a(),{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,h.jsx)(ee(),{variant:"text",height:15,width:"90%",sx:{mb:.5}}),(0,h.jsx)(ee(),{variant:"text",height:12,width:"60%"}),(0,h.jsx)(ee(),{variant:"text",height:10,width:"30%"})]})]}),!r&&(0,h.jsx)(F(),{variant:"middle",component:"li"})]})};return(0,V.useCallback)((function(){for(var r=[],t=0;t<10;t++)r.push((0,h.jsx)(e,{skipDivider:9===t},t));return r}),[])()},te=function(e){var r=e.users;return(0,h.jsx)(B(),{sx:{display:"block"},children:null!=r&&r.length?r.map((function(e,t){return(0,h.jsxs)(a(),{children:[(0,h.jsx)(K,{user:e}),t!==r.length-1&&(0,h.jsx)(F(),{variant:"middle",component:"li"})]},e.id)})):(0,h.jsx)(re,{})})};var ne=t(353),ie=t.n(ne);const se=require("@mui/material/Backdrop");var oe=t.n(se);const ae=require("@mui/material/CircularProgress");var ce=t.n(ae);const ue=require("@mui/material/Fade");var le=t.n(ue);const de=require("@mui/material"),me=function(e){var r,t=e.modalIsOpen,n=e.setModalIsOpen,i=e.selectedAlbum,s=e.setSelectedAlbum,o=(0,V.useState)(!1),c=ie()(o,2),u=c[0],l=c[1],d=(0,p.useTheme)(),m=x()(d.breakpoints.up("md"));return(0,h.jsx)(de.Modal,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(){return n(!1)},onTransitionExited:function(){l(!1),s({})},closeAfterTransition:!0,slots:{backdrop:oe()},slotProps:{backdrop:{timeout:500}},children:(0,h.jsx)(le(),{in:t,children:(0,h.jsxs)(a(),{sx:(r={position:"absolute",width:m?"auto":"100vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},T()(r,"bgcolor","transparent"),T()(r,"boxShadow",u?24:0),r),children:[(0,h.jsx)(a(),{component:"img",maxWidth:"100%",alt:i.title,src:i.url,loading:"lazy",onLoad:function(){return l(!0)},onClick:function(){return n(!1)}}),u?(0,h.jsx)(a(),{sx:{position:"absolute",bgcolor:"#000",bottom:0,left:0,right:0,opacity:.5,p:2,textAlign:"center"},children:(0,h.jsx)(P(),{sx:{color:"#fff"},children:i.title})}):(0,h.jsx)(ce(),{})]})})})},xe=function(){var e=(0,V.useState)(!1),r=ie()(e,2),t=r[0],i=r[1],o=(0,V.useState)({}),c=ie()(o,2),u=c[0],l=c[1],d=(0,n.useLoaderData)(),m=(0,n.useParams)().userId;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(me,{modalIsOpen:t,setModalIsOpen:i,selectedAlbum:u,setSelectedAlbum:l}),(0,h.jsx)(S,{url:"/user/"+m+"/albums"}),(0,h.jsx)(s(),{container:!0,spacing:2,py:3,justifyContent:"space-evenly",children:d.map((function(e){var r=e.id,t=e.thumbnailUrl,n=e.title;return(0,h.jsx)(s(),{item:!0,children:(0,h.jsx)(a(),{component:"img",onClick:function(){l(e),i(!0)},alt:n,src:t,loading:"lazy",sx:{boxShadow:3,cursor:"pointer",transition:".3s",transform:"scale(1, 1)","&:hover":{boxShadow:8,transform:"scale(1.1, 1.1)"}}})},r)}))})]})},pe=function(){return(0,h.jsx)(P(),{variant:"subtitle1",component:"p",fontWeight:"bold",children:"Select user"})},he=function(){return(0,h.jsx)(a(),{children:"Sorry, page not found"})},fe=require("@mui/icons-material/MusicNote");var ve=t.n(fe);const je=require("@mui/icons-material/Message");var be=t.n(je);const ge=function(){var e=function(e){var r=e.Icon,t=e.text,n=e.link;return(0,h.jsx)(d(),{in:!0,children:(0,h.jsx)(a(),{sx:{borderRadius:50,overflow:"hidden",m:2,boxShadow:5,"&:hover":{transition:".3s !important",transform:"scale(1.1, 1.1) !important",boxShadow:4}},children:(0,h.jsx)(U,{to:n,children:(0,h.jsxs)(a(),{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2,bgcolor:"primary.light",width:100,height:100},children:[(0,h.jsx)(r,{sx:{fontSize:30,color:"#fff"}}),(0,h.jsx)(P(),{variant:"body2",component:"p",color:"#fff",fontWeight:"bold",children:t})]})})})})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(e,{Icon:ve(),text:"Albums",link:"albums"}),(0,h.jsx)(e,{Icon:be(),text:"Posts",link:"posts"})]})},ye=require("lodash.debounce");var Se=t.n(ye);const we=require("@mui/material/Alert");var qe=t.n(we);const Oe=require("@mui/material/CssBaseline");var ke=t.n(Oe);const Ie=require("@mui/material/IconButton");var Pe=t.n(Ie);const Ae=require("@mui/material/TextField");var Ce=t.n(Ae);const Te=require("@mui/material/Tooltip");var Re=t.n(Te);const Ee=require("@mui/icons-material/ExpandLess");var De=t.n(Ee);const Le=require("@mui/icons-material/ExpandMore");var Me=t.n(Le);const Ue=require("@mui/icons-material/Clear");var We=t.n(Ue);const ze=function(){var e=(0,p.useTheme)(),r=x()(e.breakpoints.up("sm")),t=(0,n.useLoaderData)(),i=(0,n.useSearchParams)(),o=ie()(i,2),c=o[0],u=o[1],l=(0,V.useState)(""),d=ie()(l,2),m=d[0],f=d[1],v=(0,V.useState)(""),j=ie()(v,2),b=j[0],g=j[1],y=(0,V.useState)([]),S=ie()(y,2),w=S[0],q=S[1],O=(0,V.useCallback)(Se()((function(e){var r=e.newSort,n=e.newUsername,i=t.filter((function(e){return e.username.toLowerCase().includes(n)})).sort((function(e,t){var n=e.username.toLowerCase(),i=t.username.toLowerCase(),s="asc"===r;return n===i?0:n<i?s?-1:1:s?1:-1}));q(i)}),500),[]),I=function(e,r){r?c.set(e,r):c.delete(e),u(c)};return(0,V.useEffect)((function(){c.get("sort")&&f(c.get("sort")),c.get("username")&&g(c.get("username"))})),(0,V.useEffect)((function(){O({newSort:m,newUsername:b})}),[b,m]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ke(),{}),(0,h.jsx)(A,{}),(0,h.jsx)(k(),{maxWidth:"lg",sx:{position:"relative",px:r?3:"0 !important"},children:(0,h.jsxs)(s(),{container:!0,sx:{minHeight:"calc(100vh - 64px)"},children:[(0,h.jsx)(s(),{item:!0,xs:12,md:8,sx:{backgroundColor:"#b4e3ff4a",minHeight:300},children:(0,h.jsx)(a(),{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(n.Outlet,{})})}),(0,h.jsxs)(s(),{item:!0,xs:12,md:4,children:[(0,h.jsxs)(a(),{sx:{display:"flex",flexDirection:"row",p:1},children:[(0,h.jsx)(Ce(),{label:"Search",variant:"outlined",size:"small",fullWidth:!0,value:b,onChange:function(e){return r=e.target.value,I("username",r),void g(r);var r},sx:{bgcolor:"transparent"}}),(m||b)&&(0,h.jsx)(Re(),{title:"Clear filters",children:(0,h.jsx)(Pe(),{onClick:function(){f(""),g(""),c.delete("sort"),c.delete("username"),u()},"aria-label":"clear",sx:{ml:1},children:(0,h.jsx)(We(),{})})}),(0,h.jsx)(Re(),{title:"Sort by username",children:(0,h.jsx)(Pe(),{onClick:function(){var e="asc"===m?"desc":"asc";I("sort",e),f(e)},"aria-label":"sort",sx:{ml:1},children:"asc"===m?(0,h.jsx)(De(),{}):(0,h.jsx)(Me(),{})})})]}),b&&!w.length?(0,h.jsx)(qe(),{severity:"warning",children:"No users found"}):(0,h.jsx)(te,{users:w})]})]})})]})};var Fe=t(591),He=t.n(Fe),Be=t(307),Ne=t.n(Be),_e="https://jsonplaceholder.typicode.com/";const Ge={ALBUMS:_e+"albums",POSTS:_e+"posts",USERS:_e+"users"};var Ze=function(){var e=He()(Ne().mark((function e(r){var t;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params,e.abrupt("return",fetch("".concat(Ge.USERS,"/").concat(t.userId,"/albums")));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Je=function(){var e=He()(Ne().mark((function e(r){var t;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params,e.abrupt("return",fetch("".concat(Ge.ALBUMS,"/").concat(t.albumId,"/photos")));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Qe=function(){var e=He()(Ne().mark((function e(r){var t;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.params,e.abrupt("return",fetch("".concat(Ge.USERS,"/").concat(t.userId,"/posts")));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ye=function(){var e=He()(Ne().mark((function e(){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(Ge.USERS));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const $e=(0,n.createRoutesFromElements)((0,h.jsxs)(n.Route,{path:"/",element:(0,h.jsx)(ze,{}),loader:Ye,children:[(0,h.jsx)(n.Route,{index:!0,element:(0,h.jsx)(pe,{})}),(0,h.jsxs)(n.Route,{path:"user/:userId",children:[(0,h.jsx)(n.Route,{index:!0,element:(0,h.jsx)(ge,{})}),(0,h.jsxs)(n.Route,{path:"albums",children:[(0,h.jsx)(n.Route,{index:!0,element:(0,h.jsx)(v,{}),loader:Ze}),(0,h.jsx)(n.Route,{path:":albumId",element:(0,h.jsx)(xe,{}),loader:Je})]}),(0,h.jsx)(n.Route,{path:"posts",element:(0,h.jsx)(W,{}),loader:Qe})]}),(0,h.jsx)(n.Route,{path:"*",element:(0,h.jsx)(he,{})})]}))},971:e=>{"use strict";e.exports=require("@babel/register")},591:e=>{"use strict";e.exports=require("@babel/runtime/helpers/asyncToGenerator")},353:e=>{"use strict";e.exports=require("@babel/runtime/helpers/slicedToArray")},307:e=>{"use strict";e.exports=require("@babel/runtime/regenerator")},860:e=>{"use strict";e.exports=require("express")},231:e=>{"use strict";e.exports=require("ignore-styles")},684:e=>{"use strict";e.exports=require("react-dom/server")},149:e=>{"use strict";e.exports=require("react-router-dom/server")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")}},r={};function t(n){var i=r[n];if(void 0!==i)return i.exports;var s=r[n]={id:n,loaded:!1,exports:{}};return e[n](s,s.exports,t),s.loaded=!0,s.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(231),t(971)({ignore:[/(node_modules)/],presets:["@babel/preset-env","@babel/preset-react"]}),t(423)})();